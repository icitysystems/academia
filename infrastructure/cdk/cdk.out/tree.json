{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.233.0"},"children":{"AcademiaBackendStack":{"id":"AcademiaBackendStack","path":"AcademiaBackendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.233.0"},"children":{"AcademiaVpc":{"id":"AcademiaVpc","path":"AcademiaBackendStack/AcademiaVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"academia-vpc"},{"key":"Project","value":"Academia"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcPublicSubnet1RouteTableC4FF54E3"},"subnetId":{"Ref":"AcademiaVpcPublicSubnet1Subnet055F80CF"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AcademiaVpcIGW1ADD398E"},"routeTableId":{"Ref":"AcademiaVpcPublicSubnet1RouteTableC4FF54E3"}}}},"EIP":{"id":"EIP","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1"},{"key":"Project","value":"Academia"}]}}},"NATGateway":{"id":"NATGateway","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["AcademiaVpcPublicSubnet1EIP2EA361ED","AllocationId"]},"subnetId":{"Ref":"AcademiaVpcPublicSubnet1Subnet055F80CF"},"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet1"},{"key":"Project","value":"Academia"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcPublicSubnet2RouteTable2232FC9E"},"subnetId":{"Ref":"AcademiaVpcPublicSubnet2Subnet638E1B97"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AcademiaBackendStack/AcademiaVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AcademiaVpcIGW1ADD398E"},"routeTableId":{"Ref":"AcademiaVpcPublicSubnet2RouteTable2232FC9E"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcPrivateSubnet1RouteTable1264899D"},"subnetId":{"Ref":"AcademiaVpcPrivateSubnet1SubnetAE8E27DA"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AcademiaVpcPublicSubnet1NATGatewayECF743E9"},"routeTableId":{"Ref":"AcademiaVpcPrivateSubnet1RouteTable1264899D"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcPrivateSubnet2RouteTable99CE69D4"},"subnetId":{"Ref":"AcademiaVpcPrivateSubnet2Subnet5D70D0B2"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AcademiaBackendStack/AcademiaVpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AcademiaVpcPublicSubnet1NATGatewayECF743E9"},"routeTableId":{"Ref":"AcademiaVpcPrivateSubnet2RouteTable99CE69D4"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcIsolatedSubnet1RouteTable3CB725AD"},"subnetId":{"Ref":"AcademiaVpcIsolatedSubnet1Subnet23D5A1B3"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.233.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"Acl":{"id":"Acl","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AcademiaBackendStack/AcademiaVpc/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademiaVpcIsolatedSubnet2RouteTable4BD76DBF"},"subnetId":{"Ref":"AcademiaVpcIsolatedSubnet2SubnetEAD6AC37"}}}}}},"IGW":{"id":"IGW","path":"AcademiaBackendStack/AcademiaVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"academia-vpc"},{"key":"Project","value":"Academia"}]}}},"VPCGW":{"id":"VPCGW","path":"AcademiaBackendStack/AcademiaVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"AcademiaVpcIGW1ADD398E"},"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}}}},"LambdaSecurityGroup":{"id":"LambdaSecurityGroup","path":"AcademiaBackendStack/LambdaSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/LambdaSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Academia Lambda functions","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}}}},"DbSecurityGroup":{"id":"DbSecurityGroup","path":"AcademiaBackendStack/DbSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/DbSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Academia RDS","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"vpcId":{"Ref":"AcademiaVpc136B99B2"}}}},"from AcademiaBackendStackLambdaSecurityGroupB5E6FEC7:5432":{"id":"from AcademiaBackendStackLambdaSecurityGroupB5E6FEC7:5432","path":"AcademiaBackendStack/DbSecurityGroup/from AcademiaBackendStackLambdaSecurityGroupB5E6FEC7:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Lambda to connect to RDS","fromPort":5432,"groupId":{"Fn::GetAtt":["DbSecurityGroupE9D701AD","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]},"toPort":5432}}}}},"DbSecret":{"id":"DbSecret","path":"AcademiaBackendStack/DbSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/DbSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Academia database credentials","generateSecretString":{"secretStringTemplate":"{\"username\":\"academia_admin\"}","generateStringKey":"password","excludePunctuation":true,"passwordLength":32},"name":"academia/database/credentials","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}},"Attachment":{"id":"Attachment","path":"AcademiaBackendStack/DbSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/DbSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DbSecret685A0FA5"},"targetId":{"Ref":"AcademiaDatabase583B4003"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"AcademiaDatabase":{"id":"AcademiaDatabase","path":"AcademiaBackendStack/AcademiaDatabase","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.233.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"AcademiaBackendStack/AcademiaDatabase/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.233.0","metadata":[]},"children":{"Default":{"id":"Default","path":"AcademiaBackendStack/AcademiaDatabase/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for AcademiaDatabase database","subnetIds":[{"Ref":"AcademiaVpcIsolatedSubnet1Subnet23D5A1B3"},{"Ref":"AcademiaVpcIsolatedSubnet2SubnetEAD6AC37"}],"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaDatabase/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","autoMinorVersionUpgrade":true,"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbName":"academia","dbSubnetGroupName":{"Ref":"AcademiaDatabaseSubnetGroup3F7482F3"},"deletionProtection":false,"engine":"postgres","engineVersion":"15","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DbSecret685A0FA5"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DbSecret685A0FA5"},":SecretString:password::}}"]]},"maxAllocatedStorage":100,"multiAz":false,"publiclyAccessible":false,"storageEncrypted":true,"storageType":"gp2","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"vpcSecurityGroups":[{"Fn::GetAtt":["DbSecurityGroupE9D701AD","GroupId"]}]}}}}},"AssetsBucket":{"id":"AssetsBucket","path":"AcademiaBackendStack/AssetsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AssetsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["academia-assets-",{"Ref":"AWS::AccountId"}]]},"corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST","DELETE"],"allowedOrigins":["https://academia.icitysystems.org","https://api.academia.icitysystems.org"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"versioningConfiguration":{"status":"Enabled"}}}}}},"JwtSecret":{"id":"JwtSecret","path":"AcademiaBackendStack/JwtSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/JwtSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Academia JWT signing secret","generateSecretString":{"passwordLength":64,"excludePunctuation":true},"name":"academia/jwt-secret","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"StripeSecret":{"id":"StripeSecret","path":"AcademiaBackendStack/StripeSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/StripeSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Stripe API keys","name":"academia/stripe-secret","secretString":"{\"secretKey\":\"sk_test_placeholder\",\"webhookSecret\":\"whsec_placeholder\"}","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"BackendFunction":{"id":"BackendFunction","path":"AcademiaBackendStack/BackendFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.233.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AcademiaBackendStack/BackendFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.233.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AcademiaBackendStack/BackendFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"Resource":{"id":"Resource","path":"AcademiaBackendStack/BackendFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AcademiaBackendStack/BackendFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/BackendFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"DbSecret685A0FA5"}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"JwtSecretB8834B39"}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"StripeSecret80A38A68"}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AssetsBucket5CB76180","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AssetsBucket5CB76180","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"BackendFunctionServiceRoleDefaultPolicyA83BBE0A","roles":[{"Ref":"BackendFunctionServiceRoleCA938F8D"}]}}}}}}},"Resource":{"id":"Resource","path":"AcademiaBackendStack/BackendFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n\t\t\t\texports.handler = async (event) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstatusCode: 200,\n\t\t\t\t\t\tbody: JSON.stringify({ \n\t\t\t\t\t\t\tmessage: 'Academia Backend - Please deploy the backend code',\n\t\t\t\t\t\t\ttimestamp: new Date().toISOString()\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t"},"environment":{"variables":{"NODE_ENV":"production","FRONTEND_URL":"https://academia.icitysystems.org","CORS_ORIGINS":"https://academia.icitysystems.org","DB_SECRET_ARN":{"Ref":"DbSecret685A0FA5"},"DB_HOST":{"Fn::GetAtt":["AcademiaDatabase583B4003","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["AcademiaDatabase583B4003","Endpoint.Port"]},"DB_NAME":"academia","STORAGE_PROVIDER":"s3","AWS_S3_BUCKET":{"Ref":"AssetsBucket5CB76180"},"JWT_SECRET_ARN":{"Ref":"JwtSecretB8834B39"},"STRIPE_SECRET_ARN":{"Ref":"StripeSecret80A38A68"}}},"functionName":"academia-backend","handler":"dist/lambda.handler","memorySize":1024,"role":{"Fn::GetAtt":["BackendFunctionServiceRoleCA938F8D","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"AcademiaVpcPrivateSubnet1SubnetAE8E27DA"},{"Ref":"AcademiaVpcPrivateSubnet2Subnet5D70D0B2"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}}}},"AcademiaApi":{"id":"AcademiaApi","path":"AcademiaBackendStack/AcademiaApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Academia GraphQL API","name":"academia-api","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"AcademiaBackendStack/AcademiaApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.233.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"AcademiaBackendStack/AcademiaApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.233.0","metadata":[]}},"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"Account":{"id":"Account","path":"AcademiaBackendStack/AcademiaApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["AcademiaApiCloudWatchRole70B1E378","Arn"]}}}},"Deployment":{"id":"Deployment","path":"AcademiaBackendStack/AcademiaApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Academia GraphQL API","restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"AcademiaBackendStack/AcademiaApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"AcademiaApiDeployment07DDCC0F5db6eeab5469aa6be6f5ef6fc5359561"},"restApiId":{"Ref":"AcademiaApiEB0FBB35"},"stageName":"prod","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"Endpoint":{"id":"Endpoint","path":"AcademiaBackendStack/AcademiaApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"Default":{"id":"Default","path":"AcademiaBackendStack/AcademiaApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.233.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"AcademiaBackendStack/AcademiaApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://academia.icitysystems.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"http://localhost:3000\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Fn::GetAtt":["AcademiaApiEB0FBB35","RootResourceId"]},"restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}}}},"{proxy+}":{"id":"{proxy+}","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ProxyResource","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["AcademiaApiEB0FBB35","RootResourceId"]},"pathPart":"{proxy+}","restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}},"OPTIONS":{"id":"OPTIONS","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://academia.icitysystems.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"http://localhost:3000\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"AcademiaApiproxyCA83FD4D"},"restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}}}},"ANY":{"id":"ANY","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/ANY","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.233.0","metadata":[]},"children":{"ApiPermission.AcademiaBackendStackAcademiaApi011319BD.ANY..{proxy+}":{"id":"ApiPermission.AcademiaBackendStackAcademiaApi011319BD.ANY..{proxy+}","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/ANY/ApiPermission.AcademiaBackendStackAcademiaApi011319BD.ANY..{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"AcademiaApiEB0FBB35"},"/",{"Ref":"AcademiaApiDeploymentStageprod6317A01C"},"/*/*"]]}}}},"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Default/{proxy+}/ANY/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"AcademiaApiproxyCA83FD4D"},"restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}}}}}},"ANY":{"id":"ANY","path":"AcademiaBackendStack/AcademiaApi/Default/ANY","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaBackendStack/AcademiaApi/Default/ANY/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"MOCK"},"resourceId":{"Fn::GetAtt":["AcademiaApiEB0FBB35","RootResourceId"]},"restApiId":{"Ref":"AcademiaApiEB0FBB35"}}}}}}}}}},"VpcId":{"id":"VpcId","path":"AcademiaBackendStack/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"DbEndpoint":{"id":"DbEndpoint","path":"AcademiaBackendStack/DbEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"DbSecretArn":{"id":"DbSecretArn","path":"AcademiaBackendStack/DbSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"ApiUrl":{"id":"ApiUrl","path":"AcademiaBackendStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"AcademiaBackendStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"AssetsBucketName":{"id":"AssetsBucketName","path":"AcademiaBackendStack/AssetsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"LambdaFunctionName":{"id":"LambdaFunctionName","path":"AcademiaBackendStack/LambdaFunctionName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"LambdaFunctionArn":{"id":"LambdaFunctionArn","path":"AcademiaBackendStack/LambdaFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AcademiaBackendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"AcademiaBackendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.233.0"}}}},"Exports":{"id":"Exports","path":"AcademiaBackendStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Output{\"Ref\":\"AcademiaApiEB0FBB35\"}":{"id":"Output{\"Ref\":\"AcademiaApiEB0FBB35\"}","path":"AcademiaBackendStack/Exports/Output{\"Ref\":\"AcademiaApiEB0FBB35\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AcademiaBackendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.233.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AcademiaBackendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.233.0"}}}},"AcademiaFrontendStack":{"id":"AcademiaFrontendStack","path":"AcademiaFrontendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.233.0"},"children":{"FrontendBucket":{"id":"FrontendBucket","path":"AcademiaFrontendStack/FrontendBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaFrontendStack/FrontendBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["academia-frontend-",{"Ref":"AWS::AccountId"}]]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"AcademiaFrontendStack/FrontendBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaFrontendStack/FrontendBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"FrontendBucketEFE2E19C"},"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"OAI":{"id":"OAI","path":"AcademiaFrontendStack/OAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.233.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AcademiaFrontendStack/OAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Academia Frontend OAI"}}}}}},"Distribution":{"id":"Distribution","path":"AcademiaFrontendStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.233.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"AcademiaFrontendStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}},"Origin2":{"id":"Origin2","path":"AcademiaFrontendStack/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}},"Origin3":{"id":"Origin3","path":"AcademiaFrontendStack/Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}},"Resource":{"id":"Resource","path":"AcademiaFrontendStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.233.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["FrontendBucketEFE2E19C","RegionalDomainName"]},"id":"AcademiaFrontendStackDistributionOrigin16112D960","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::Join":["",[{"Fn::ImportValue":"AcademiaBackendStack:ExportsOutputRefAcademiaApiEB0FBB3526983528"},".execute-api.us-east-1.",{"Ref":"AWS::URLSuffix"}]]},"id":"AcademiaFrontendStackDistributionOrigin2C612EF98","originPath":"/prod","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}},{"domainName":{"Fn::Join":["",[{"Fn::ImportValue":"AcademiaBackendStack:ExportsOutputRefAcademiaApiEB0FBB3526983528"},".execute-api.us-east-1.",{"Ref":"AWS::URLSuffix"}]]},"id":"AcademiaFrontendStackDistributionOrigin3816A9661","originPath":"/prod","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"AcademiaFrontendStackDistributionOrigin16112D960","allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"AcademiaFrontendStackDistributionOrigin2C612EF98","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"https-only"},{"pathPattern":"/graphql","targetOriginId":"AcademiaFrontendStackDistributionOrigin3816A9661","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"https-only"}],"customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100"},"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Academia"}]}}}}},"FrontendUrl":{"id":"FrontendUrl","path":"AcademiaFrontendStack/FrontendUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"DistributionId":{"id":"DistributionId","path":"AcademiaFrontendStack/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"AcademiaFrontendStack/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"FrontendBucketName":{"id":"FrontendBucketName","path":"AcademiaFrontendStack/FrontendBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.233.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AcademiaFrontendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"AcademiaFrontendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.233.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AcademiaFrontendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.233.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AcademiaFrontendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.233.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}